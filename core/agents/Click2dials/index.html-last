
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>iCall</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>  
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
        <meta name="HandheldFriendly" content="true">
        <meta name="format-detection" content="telephone=no"/>
        <meta name="SKYPE_TOOLBAR" content="SKYPE_TOOLBAR_PARSER_COMPATIBLE"/>
        <meta name="apple-mobile-web-app-capabale" content="yes"/>
        <meta http-equiv="Pragma" content="no-cache"/>
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
        <meta http-equiv="Expires" content="0"/>

        
        <link rel="stylesheet" type="text/css" href="https://dtd6jl0d42sve.cloudfront.net/lib/Normalize/normalize-v8.0.1.css"/>
        <link rel="stylesheet" type="text/css" href="https://dtd6jl0d42sve.cloudfront.net/lib/fonts/font_roboto/roboto.css"/>
        <link rel="stylesheet" type="text/css" href="https://dtd6jl0d42sve.cloudfront.net/lib/fonts/font_awesome/css/font-awesome.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://dtd6jl0d42sve.cloudfront.net/lib/jquery/jquery-ui.min.css"/>
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <link rel="stylesheet" type="text/css" href="https://dtd6jl0d42sve.cloudfront.net/lib/Croppie/Croppie-2.6.4/croppie.css"/>
        <link rel="stylesheet" type="text/css" href="phone.css"/>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/jquery/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/jquery/jquery.md5-min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/jquery/jquery-ui.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/Chart/Chart.bundle-2.7.2.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/SipJS/sip-0.20.0.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/FabricJS/fabric-2.4.6.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/Moment/moment-with-locales-2.24.0.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/Croppie/Croppie-2.6.4/croppie.min.js"></script>
        <script type="text/javascript" src="https://dtd6jl0d42sve.cloudfront.net/lib/XMPP/strophe-1.4.1.umd.min.js"></script>
        <script type="text/javascript" src="phone.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

        <script type="text/javascript">
            // Provision runtime options can go here.
            var phoneOptions = {loadAlternateLang: true}
            var web_hook_on_transportError = function(t, ua){}
            var web_hook_on_register = function(ua){}
            var web_hook_on_registrationFailed = function(e){}
            var web_hook_on_unregistered = function(){ }
            var web_hook_on_invite = function(session){}
            var web_hook_on_message = function(message){}
            var web_hook_on_modify = function(action, session){}
            var web_hook_on_dtmf = function(item, session){}
            var web_hook_on_terminate = function(session){}
        </script>

<style>html,body{margin: auto;padding: 0px;zoom: 95%;/*overflow: hidden;*/font-family: Arial, Helvetica, sans-serif;font-size: 11px;color: #333;}#banner-wrap{height: 9%;width: 100%;background-repeat: repeat-x;background-color:  dodgerblue;} #content-wrap{width: 60%;height: 80%;margin-right: 35%;margin-left: 3%;margin-top: 0.5%;font-size: 11px;} #content{margin-top: 20px;border: 1px solid #b7c7cf;border-radius:3px;}#nav-wrap{height: 26%;border: 1px solid #d1c7a3;border-radius:3px;} #spacer{clear: both;}#footer{margin-top: 2%;border-top-width: 1px;border-top-style: solid;border-top-color: #D1C7A3;border-right-color: #D1C7A3;border-bottom-color: #D1C7A3;border-left-color: #D1C7A3;line-height: 30px;}
    div.bluV {
    position: absolute;
    right: 2%;
    top: 10%;
    width: 34%;
    height: 86%;
    border: 1px solid #b7c7cf;
    border-radius:3px;
    }
    .inv {
        display: none;
    }
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #eee;
  text-align: left;
  padding: 3px;
}


    #tableA tr:hover {
    background-size:  100% 100%;
    transform:scale(1.01,1.34);
    transform-origin:center;
    background-color: #6CABDD;
    }
    #tableA2 {
    border: none;
    }
    /* Style the tab */
    .tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
    }

    /* Style the buttons inside the tab */
    .tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 6px 8px;
    transition: 0.3s;
    font-size: 17px;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {
    background-color: #ddd;
    }
    a {color: white;}a:link {text-decoration: none;}a:visited {text-decoration: none;}a:hover {text-decoration: underline;}a:active{text-decoration: underline;}
    /* Create an active/current tablink class */
    .tab button.active {
    background-color: #ccc;
    }

    /* Style the tab content */
    .tabcontent {
    display: none;
    padding: 6px 10px;
    -webkit-animation: fadeEffect 1s;
    animation: fadeEffect 1s;
    }
  
    /* Fade in tabs */
    @-webkit-keyframes fadeEffect {
    from {opacity: 0;}
    to {opacity: 1;}
    }
   
    @keyframes fadeEffect {
    from {opacity: 0;}
    to {opacity: 1;}
    }
.column {
	  float: left;
      height: 100%;
	  border: 4px solid white; 
	}
  .column1 {
	  float: left;
      height: 100%; 
	}
.pbox {
    border: 2px solid;
    border-color:dodgerblue;
    text-align: left;
    vertical-align: middle;
}
.pbox:hover {
  border-color:  rgba(82,168,236,.8);
  box-shadow: 0 0px 0px rgba(82,168,236,.8) inset, 0 0 8px rgba(82,168,236,.8);
  outline: 0 none;
}
</style>
</head>
<body>
            <div class="banner-wrap" id="banner-wrap">
                <div class="banner" id="banner">
                <div class="logo" id="logo"></div>
                <div class="logo-text" id="logo-text"></div>
                <div class="banner-text" id="banner-text">
                <script>
                  const queryString = window.location.search;
                  const urlParams = new URLSearchParams(queryString); 
                  var mysessionUsers=urlParams.get('make');
            
                </script>
                <font color="white">
                  <div class='Row' style='display: table;width: 15%;table-layout: fixed;border-spacing: 1px;position: relative;float: right;'>
                      <br><br><div class ='column1'>
                          <b>My Profile  &nbsp&nbsp| &nbsp</b>
                      </div>
                      <div class ='column1'>
                          <b>HENUTEKA&nbsp</b>
                      </div>
                      <div class ='column1'>
                          <b>&nbsp| &nbsp</b>&nbsp<a href="../../modules/0_0_logout.php" class="main" onclick="localStorage.clear();">Sign Out</a>
                      </div>
                  </div>
                </font>
                </div>
                </div>
            </div>

      <div class="content-wrap" id="content-wrap">
            <div class="bluV">
                <!-- Loading Animation for the phone -->
                <div class=loading>
                    <span class="fa fa-circle-o-notch fa-spin"></span>
                </div>
                <!--Actual Phone-->
                <div id=Phone></div>
            </div>
            <div class="nav-wrap" id="nav-wrap">
                  <div class="column" style="background-color:#fff;width: 13%;">
                    <table>
                      <tr>
                        <th>KPI</th>
                        <th>Value</th>
                      </tr>
                      <tr>
                        <td>Total Calls</td>
                        <td>5674</td>
                      </tr>
                      <tr>
                        <td>Talk Time</td>
                        <td>67895</td>
                      </tr>
                      <tr>
                        <td>Avg Sec/Call</td>
                        <td>6</td>
                      </tr>
                      <tr>
                        <td>Dial Agrr LV</td>
                        <td>3/<i>min</i></td>
                      </tr>
                      <tr>
                        <td>hhh</td>
                        <td>3</td>
                      </tr>
                    </table>
                  </div>
                  <div class="column" style="background-color:#ccc;width: 1%;">

                  </div>
                  <div class="column" style="background-color:#ccc;width: 50.6%;">
                    <div id="columnchart_material" style="width:100%; height:100%;"></div>
                  </div>
                 <div class="column" style="background-color:#ccc;width: 1%;">

                  </div>

                  <div class="column" style="background-color:#ccc;width: 34.4%;">
                    <div id="donutchart" style="width:100%; height:100%"></div>
                  </div>
            </div>
            <!-- Contents starts here-->
            <div class="content" id="content">
              
            <div id="tabs">
                <ul>
                      <li><a href="#tabs-1">Click2Dial</a></li>
                      <li id="ChangeME" ><a href="#tabs-2">CallBacks</a></li>
                      <li><a href="#tabs-3">Scripts</a></li>
                      <table style="height:4.5%;width: 10%;text-align: left;font-size: 11px;" align="right" border="0">
                        <tr>
                            <td><i class="fa fa-2x" aria-hidden="true" onclick="resetTimer();" style='color:green;padding: 4px;'><label id="minutes">00</label>:<label id="seconds">00</label></i></td>
                        </tr>
                      </table>
                </ul>
                <div id="tabs-1">
                      <div class='Row' style='display: table;width: 100%;table-layout: fixed;border-spacing: 1px;margin: auto;'>
                        <h4>
                        <b>
                            <div class ='column' style='padding-top:2px;padding-bottom: 2px;width: 70%;padding-left: 0px;background-color:dodgerblue;opacity: 0.7;'>
                                Campaign
                            </div>
                            <div class ='column' style='width: 30%;'>
                                <select  onchange="ajaxPOSTPauseState(this.value)" class='pbox rounded'  name='PauseStatus'  style='width:11%;right:22px;position: absolute;background-color:#fff;'>
                                    <option value='Available'>Available</option>
                                    <option value='TeaBerak'>TeaBerak</option>
                                    <option value='Bathroom'>Bathroom</option>
                                    <option value='Meeting'>Meeting</option>
                                    <option value='Admin'>Admin</option>
                                </select>
                            </div>
                        </b>
                        </h4>
                    </div>
                    <br>
                    <div id="txtHint"></div>
                </div>
                <div id="tabs-2">
                     <div id="txtHint2"></div>

                </div>
                <div id="tabs-3">
                </div>
            </div>     
</div>

            <!--Footer starts here-->
                <div class="footer" id="footer">&copy;Powered by Yathu Digital Multimedia</a>&trade;<i class="fa fa-lock" aria-hidden="true" style="position: absolute;right:580px;padding-top: 10px;opacity: 0.8;">&nbsp;End-to-end encrypted</i></div>
                
            <!--Footer ends here-->
    </div><!-- content-wrap ends here-->
</body>
<script type="text/javascript" charset="utf-8">
//setInterval(function(){
    //console.log('Clicked');
  //},10000);
//clickto dial query
  function showUser() {
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("txtHint").innerHTML = this.responseText;
      }
    };
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString); 
    let str =urlParams.get('campgn');
    xmlhttp.open("GET","getuser.php?q="+str,true);
    xmlhttp.send();
  }
// PERIODIC QUERY CALLBACKS
function showUserCallBack() {
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById("txtHint2").innerHTML = this.responseText;
      }
    };
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString); 
    let str =urlParams.get('campgn');
    xmlhttp.open("GET","getuserCallBack.php?q="+str,true);
    xmlhttp.send();
  }
  window.onload = showUser();
  function resetTimer(){
        window.location.reload();
  }
  setInterval(function(){
    showUserCallBack();
  },20000);
    
</script>
<script>
    $( function() {
      $( "#tabs" ).tabs();
    } );
</script>
<script>
    function highlight(idRow){
        //console.log(idRow);
        document.getElementById(idRow).style.display = 'none';
        
    }
    function popupCenter(pageURL, title, w, h) {
        window.resizeBy(-300,0);
        window.moveTo(0,0);
        //setTimeout(function(){window.close();},100);
        
    var targetWin = window.open(pageURL, title, 'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no,height=500,width=700, top=100, left=600');
     //console.log(pageURL);
     

    }

  function ajaxPOSTPauseState(str234){
	var xhttp = new XMLHttpRequest();
xhttp.open("POST", "pauseStatus.php?pauseStatus=1", true);
xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
xhttp.onreadystatechange = function() {
   if (this.readyState == 4 && this.status == 200) {

      // Response
      var response = this.responseText; 

   }
};
xhttp.send();
   }
</script>
<script>
    var minutesLabel = document.getElementById("minutes");
    var secondsLabel = document.getElementById("seconds");
    var totalSeconds = 0;
    setInterval(setTime, 1000);

    function setTime() {
    ++totalSeconds;
    secondsLabel.innerHTML = pad(totalSeconds % 60);
    minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
    }

    function pad(val) {
    var valString = val + "";
    if (valString.length < 2) {
        return "0" + valString;
    } else {
        return valString;
    }
    }
</script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['CALLS', 'Minutes per Day'],
          ['DIALED',203],
          ['FAILED',11],
          ['UNANSWERED',12],
	  ['SUCCESFUL',178]
        ]);

        var options = {
          pieHole: 0.3,
    	  legend: {
      		position : 'right',
    		alignment:'center'
	       },
          chartArea: {
        	left: "3%",
        	top: "3%",
        	height: "94%",
        	width: "94%"
    		}
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>
   <script type="text/javascript">
         google.charts.load('current', {
  packages: ['corechart', 'bar']
});
google.charts.setOnLoadCallback(drawStacked);

function drawStacked() {
  var data = google.visualization.arrayToDataTable([
    ['Status', 'AVG', 'Today'],
    ['Avaible', 8175000, 8008000],
    ['TeaBreak', 3792000, 3694000],
    ['Meeting', 2695000, 2896000],
    ['Admin', 2009900, 1930000],
    ['Bathroom', 2099000, 1953000],
    ['Lunch', 1526000, 1517000]
  ]);

  var options = {
title: 'Monthly Relative PS Report',
    chartArea: {
      width: '60%'
    },
    isStacked: true,
    hAxis: {
      title: 'Sec',
      minValue: 0,
    },
    vAxis: {
      title: 'Status'
    }
  };
  var chart = new google.visualization.BarChart(document.getElementById('columnchart_material'));
  chart.draw(data, options);
}
   </script>
</html>
